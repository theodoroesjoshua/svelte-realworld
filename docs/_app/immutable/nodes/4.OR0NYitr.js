import"../chunks/CWj6FrbW.js";import{t as A,q as M,W as N,a5 as Q,aH as X,v as U,af as Z,av as p,au as $,U as aa,V as P,p as R,h as j,i as e,j as t,s as v,O as ta,g as Y,$ as ea}from"../chunks/DPSCYN5T.js";import{s as D}from"../chunks/BD78SSHM.js";import{e as z,i as ra}from"../chunks/B4tfqRoN.js";import{b as V,e as ia,t as x,i as H,a as y,h as sa}from"../chunks/Bc5wHOKg.js";import{s as l}from"../chunks/DInQTMgm.js";import{a as I,e as W}from"../chunks/CzqfRkvu.js";function na(h,a,s=!1,n=!1,u=!1){var c=h,o="";A(()=>{var i=Q;if(o===(o=a()??"")){M&&N();return}if(i.nodes_start!==null&&(X(i.nodes_start,i.nodes_end),i.nodes_start=i.nodes_end=null),o!==""){if(M){U.data;for(var r=N(),m=r;r!==null&&(r.nodeType!==8||r.data!=="");)m=r,r=Z(r);if(r===null)throw p(),$;V(U,m),c=aa(r);return}var f=o+"";s?f=`<svg>${f}</svg>`:n&&(f=`<math>${f}</math>`);var d=ia(f);if((s||n)&&(d=P(d)),V(P(d),d.lastChild),s||n)for(;P(d);)c.before(P(d));else c.before(d)}})}var oa=x('<span><a class="btn btn-outline-secondary btn-sm"><i class="ion-edit"></i> Edit Article</a> <form method="POST" action="?/deleteArticle"><button class="btn btn-outline-danger btn-sm"><i class="ion-trash-a"></i> Delete Article</button></form></span>'),ca=x('<div class="article-meta"><a><img></a> <div class="info"><a class="author"> </a> <span class="date"> </span></div> <!></div>');function da(h,a){R(a,!0);var s=ca(),n=e(s),u=e(n);t(n);var c=v(n,2),o=e(c),i=e(o,!0);t(o);var r=v(o,2),m=e(r,!0);t(r),t(c);var f=v(c,2);{var d=w=>{var _=oa(),C=e(_),g=v(C,2);I(g,b=>{var S;return(S=W)==null?void 0:S(b)}),t(_),A(()=>l(C,"href",`/editor/${a.article.slug??""}`)),y(w,_)};H(f,w=>{var _;a.article.author.username===((_=a.user)==null?void 0:_.username)&&w(d)})}t(s),A(w=>{l(n,"href",`/profile/@${a.article.author.username??""}`),l(u,"src",a.article.author.image),l(u,"alt",a.article.author.username),l(o,"href",`/profile/@${a.article.author.username??""}`),D(i,a.article.author.username),D(m,w)},[()=>new Date(a.article.createdAt).toDateString()]),y(h,s),j()}const va="https://static.productionready.io/images/smiley-cyrus.jpg";var la=x('<form method="POST" action="?/createComment" class="card comment-form"><div class="card-block"><textarea class="form-control" name="comment" placeholder="Write a comment..." rows="3"></textarea></div> <div class="card-footer"><img class="comment-author-img"> <button class="btn btn-sm btn-primary" type="submit">Post Comment</button></div></form>');function ma(h,a){R(a,!0);var s=la(),n=v(e(s),2),u=e(n);ta(2),t(n),t(s),I(s,c=>{var o;return(o=W)==null?void 0:o(c)}),A(()=>{l(u,"src",a.user.image||va),l(u,"alt",a.user.username)}),y(h,s),j()}var ua=x('<form method="POST" class="mod-options"><button class="ion-trash-a svelte-1u5sev7" aria-label="Delete comment"></button></form>'),fa=x('<div class="card"><div class="card-block"><p class="card-text"> </p></div> <div class="card-footer"><a class="comment-author"><img class="comment-author-img"></a> <a class="comment-author"> </a> <span class="date-posted"> </span> <!></div></div>');function ha(h,a){R(a,!0);var s=fa(),n=e(s),u=e(n),c=e(u,!0);t(u),t(n);var o=v(n,2),i=e(o),r=e(i);t(i);var m=v(i,2),f=e(m,!0);t(m);var d=v(m,2),w=e(d,!0);t(d);var _=v(d,2);{var C=g=>{var b=ua();I(b,S=>{var O;return(O=W)==null?void 0:O(S)}),A(()=>l(b,"action",`?/deleteComment&id=${a.comment.id??""}`)),y(g,b)};H(_,g=>{a.user&&a.comment.author.username===a.user.username&&g(C)})}t(o),t(s),A(g=>{D(c,a.comment.body),l(i,"href",`/profile/@${a.comment.author.username??""}`),l(r,"src",a.comment.author.image),l(r,"alt",a.comment.author.username),l(m,"href",`/profile/@${a.comment.author.username??""}`),D(f,a.comment.author.username),D(w,g)},[()=>new Date(a.comment.createdAt).toDateString()]),y(h,s),j()}var _a=x("<div><!></div>"),ga=x('<p><a href="/login">Sign in</a> or <a href="/register">sign up</a> to add comments on this article.</p>'),ba=x('<div class="col-xs-12 col-md-8 offset-md-2"><!> <!></div>');function ya(h,a){var s=ba(),n=e(s);{var u=i=>{var r=_a(),m=e(r);ma(m,{get user(){return a.user}}),t(r),y(i,r)},c=i=>{var r=ga();y(i,r)};H(n,i=>{a.user?i(u):i(c,!1)})}var o=v(n,2);z(o,17,()=>a.comments,i=>i.id,(i,r)=>{ha(i,{get comment(){return Y(r)},get user(){return a.user}})}),t(s),y(h,s)}var xa=x('<li class="tag-default tag-pill tag-outline"> </li>'),wa=x('<div class="article-page"><div class="banner"><div class="container"><h1> </h1> <!></div></div> <div class="container page"><div class="row article-content"><div class="col-xs-12"><div><!></div> <ul class="tag-list"></ul></div></div> <hr> <div class="article-actions"><div class="article-meta"><a><img></a> <div class="info"><a class="author"> </a> <span class="date"> </span></div></div></div> <div class="row"><!></div></div></div>');function Pa(h,a){R(a,!0);var s=wa();sa(k=>{A(()=>ea.title=a.data.article.title)});var n=e(s),u=e(n),c=e(u),o=e(c,!0);t(c);var i=v(c,2);da(i,{get article(){return a.data.article},get user(){return a.data.user}}),t(u),t(n);var r=v(n,2),m=e(r),f=e(m),d=e(f),w=e(d);na(w,()=>a.data.article.body),t(d);var _=v(d,2);z(_,21,()=>a.data.article.tagList,ra,(k,J)=>{var E=xa(),K=e(E,!0);t(E),A(()=>D(K,Y(J))),y(k,E)}),t(_),t(f),t(m);var C=v(m,4),g=e(C),b=e(g),S=e(b);t(b);var O=v(b,2),T=e(O),B=e(T,!0);t(T);var q=v(T,2),F=e(q,!0);t(q),t(O),t(g),t(C);var L=v(C,2),G=e(L);ya(G,{get comments(){return a.data.comments},get user(){return a.data.user}}),t(L),t(r),t(s),A(k=>{D(o,a.data.article.title),l(b,"href",`/profile/@${a.data.article.author.username??""}`),l(S,"src",a.data.article.author.image),l(S,"alt",a.data.article.author.username),l(T,"href",`/profile/@${a.data.article.author.username??""}`),D(B,a.data.article.author.username),D(F,k)},[()=>new Date(a.data.article.createdAt).toDateString()]),y(h,s),j()}export{Pa as component};
