import"./CWj6FrbW.js";import{p as q,i as e,j as t,s as i,t as P,g as F,h as N,Q as G}from"./DPSCYN5T.js";import{t as x,i as O,a as p,c as H}from"./Bc5wHOKg.js";import{e as Q,i as I}from"./B4tfqRoN.js";import{s as J,a as K}from"./CH8y0wj0.js";import{p as M}from"./DN6JvexY.js";import{s as f}from"./BD78SSHM.js";import{a as U,e as V}from"./CzqfRkvu.js";import{s as m,r as W,a as X}from"./DInQTMgm.js";import{s as Y}from"./Bug9vFhC.js";import{p as Z}from"./EftRnlif.js";var aa=x('<form method="POST" class="pull-xs-right"><input hidden type="checkbox" name="favorited"> <button><i class="ion-heart"></i> </button></form>'),ta=x('<li class="tag-default tag-pill tag-outline"> </li>'),ea=x('<div class="article-preview"><div class="article-meta"><a><img></a> <div class="info"><a class="author"> </a> <span class="date"> </span></div> <!></div> <a class="preview-link"><h1> </h1> <p> </p> <span>Read more...</span> <ul class="tag-list"></ul></a></div>');function ra(A,o){q(o,!0);const a=Z(o,"article",7);var d=ea(),_=e(d),l=e(_),y=e(l);t(l);var g=i(l,2),c=e(g),r=e(c,!0);t(c);var s=i(c,2),h=e(s,!0);t(s),t(g);var $=i(g,2);{var R=v=>{var n=aa(),u=e(n);W(u);var b=i(u,2),B=i(e(b));t(b),t(n),U(n,(L,w)=>{var k;return(k=V)==null?void 0:k(L,w)},()=>({form:L})=>{a().favorited?(a().favorited=!1,a().favoritesCount-=1):(a().favorited=!0,a().favoritesCount+=1);const w=L.querySelector("button");return w.disabled=!0,({result:k,update:E})=>{w.disabled=!1,k.type==="error"&&E()}}),P(()=>{m(n,"action",`/article/${a().slug??""}?/toggleFavorite`),X(u,a().favorited),Y(b,1,`btn btn-sm ${a().favorited?"btn-primary":"btn-outline-primary"}`),f(B,` ${a().favoritesCount??""}`)}),p(v,n)};O($,v=>{o.user&&v(R)})}t(_);var C=i(_,2),S=e(C),T=e(S,!0);t(S);var D=i(S,2),z=e(D,!0);t(D);var j=i(D,4);Q(j,21,()=>a().tagList,I,(v,n)=>{var u=ta(),b=e(u,!0);t(u),P(()=>f(b,F(n))),p(v,u)}),t(j),t(C),t(d),P(v=>{m(l,"href",`/profile/@${a().author.username??""}`),m(y,"src",a().author.image),m(y,"alt",a().author.username),m(c,"href",`/profile/@${a().author.username??""}`),f(r,a().author.username),f(h,v),m(C,"href",`/article/${a().slug??""}`),f(T,a().title),f(z,a().description)},[()=>new Date(a().createdAt).toDateString()]),p(A,d),N()}var sa=x('<div class="article-preview">No articles are here... yet.</div>'),ia=x("<div></div>");function ga(A,o){q(o,!0);const[a,d]=J(),_=()=>K(M,"$page",a);var l=H(),y=G(l);{var g=r=>{var s=sa();p(r,s)},c=r=>{var s=ia();Q(s,21,()=>o.articles,h=>h.slug,(h,$)=>{ra(h,{get article(){return F($)},get user(){return _().data.user}})}),t(s),p(r,s)};O(y,r=>{o.articles.length===0?r(g):r(c,!1)})}p(A,l),N(),d()}export{ga as A};
